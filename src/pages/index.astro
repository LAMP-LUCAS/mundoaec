---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
---
<Layout title="Ecossistema de Soluções Integradas">

    <section class="hero">
        <div class="container">
            <h1>Um ecossistema de soluções integradas para transformar a construção civil brasileira.</h1>
            <p>Levamos BIM e tecnologia aberta, do investidor ao usuário final, com ferramentas práticas, acessíveis e feitas pela comunidade.</p>
            <div class="hero-btns">
                <a href="#ecosystem" class="btn">Explorar o Ecossistema</a>
                <a href="/autosinapi" class="btn btn-outline">Testar AutoSINAPI</a>
            </div>
        </div>
    </section>

    <section id="why" class="problem">
        <div class="container">
            <div class="section-header">
                <h2>Por que o Mundo AEC nasceu?</h2>
                <p>A indústria da construção no Brasil ainda sofre com processos fragmentados, dados desatualizados e barreiras de acesso à tecnologia.</p>
            </div>

            <p style="text-align: center; font-size: 1.2rem; max-width: 800px; margin: 0 auto;">
                O BIM, tão promissor, muitas vezes se torna complexo, caro ou inacessível — especialmente para pequenos escritórios, construtoras e profissionais independentes.
                <br><br>
                O Mundo AEC existe para mudar isso. Somos um hub de soluções abertas, integradas e inteligentes, projetadas para simplificar a jornada AEC — do investidor que idealiza, ao usuário que habita. Aqui, tecnologia não é privilégio: é ferramenta de todos.
            </p>
        </div>
    </section>

    <section id="ecosystem" class="solution">
        <div class="container">
            <div class="section-header">
                <h2>O Ecossistema Mundo AEC</h2>
                <p>Três pilares para impulsionar sua jornada</p>
            </div>

            <div class="pillars">
                <div class="pillar-card">
                    <div class="pillar-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <h3>AutoSINAPI</h3>
                    <p>Dados atualizados do SINAPI via API para orçamentos precisos e automação. Integre em minutos. Atualize em segundos. Esqueça planilhas desatualizadas.</p>
                    <a href="/autosinapi" class="btn">Teste grátis</a>
                    <a href="/autosinapi#docs" class="btn btn-outline" style="margin-top: 10px;">Ver documentação</a>
                </div>

                <div class="pillar-card">
                    <div class="pillar-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h3>Ferramentas Web</h3>
                    <p>Soluções open source para o seu dia a dia no escritório e no canteiro. Do fluxo de caixa à automação de processos — tudo acessível, tudo colaborativo.</p>
                    <a href="/tools" class="btn">Conhecer as ferramentas</a>
                    <a href="https://github.com/LAMP-LUCAS" class="btn btn-outline" style="margin-top: 10px;">Contribuir no GitHub</a>
                </div>

                <div class="pillar-card">
                    <div class="pillar-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Comunidade Foton</h3>
                    <p>Colaboração e conhecimento para acelerar a transformação digital da AEC. Construímos juntos: plugins, integrações, cases e aprendizados reais.</p>
                    <a href="/foton" class="btn">Participar da comunidade</a>
                    <a href="/foton#roadmap" class="btn btn-outline" style="margin-top: 10px;">Ver roadmap de plugins</a>
                </div>
            </div>
        </div>
    </section>

    <section id="journey" class="ecosystem">
        <div class="container">
            <div class="section-header">
                <h2>Jornada AEC: Tecnologia em Cada Etapa</h2>
                <p>Do investidor ao usuário: veja onde cada solução do ecossistema atua</p>
            </div>

            <!-- Carrossel de Jornada -->
            <div class="journey-carousel">
                <!-- Slides -->
                <div class="carousel-slides">
                    <!-- Slide 1: Investidor -->
                    <div class="carousel-slide active">
                        <div class="slide-icon">
                            <i class="fas fa-user-tie fa-3x"></i>
                        </div>
                        <h3>Investidor / Idealizador</h3>
                        <div class="slide-content">
                            <p><strong>AutoSINAPI</strong> → Precificação ágil e confiável para viabilidade de projetos.</p>
                            <p><strong>Ferramentas</strong> → Simuladores de ROI e fluxo de caixa integrado.</p>
                        </div>
                    </div>
                    <!-- Slide 2: Escritório -->
                    <div class="carousel-slide">
                        <div class="slide-icon">
                            <i class="fas fa-pencil-ruler fa-3x"></i>
                        </div>
                        <h3>Escritório (Projeto & Orçamento)</h3>
                        <div class="slide-content">
                            <p><strong>AutoSINAPI</strong> → Integração direta com softwares BIM e ERP.</p>
                            <p><strong>Foton</strong> → Plugins para Redmine: orçamento, cronograma, gestão de tarefas.</p>
                        </div>
                    </div>
                    <!-- Slide 3: Canteiro -->
                    <div class="carousel-slide">
                        <div class="slide-icon">
                            <i class="fas fa-hard-hat fa-3x"></i>
                        </div>
                        <h3>Canteiro (Execução)</h3>
                        <div class="slide-content">
                            <p><strong>Ferramentas</strong> → Acompanhamento de custos, consumo de materiais, mão de obra.</p>
                            <p><strong>Foton</strong> → Comunicação em tempo real, relatórios colaborativos.</p>
                        </div>
                    </div>
                    <!-- Slide 4: Operação -->
                    <div class="carousel-slide">
                        <div class="slide-icon">
                            <i class="fas fa-building fa-3x"></i>
                        </div>
                        <h3>Operação & Manutenção</h3>
                        <div class="slide-content">
                            <p><strong>Ferramentas</strong> → Gestão de ativos, manutenção preditiva, integração com BIM.</p>
                            <p><strong>AutoSINAPI</strong> → Reajustes e atualizações de custos pós-obra.</p>
                        </div>
                    </div>
                    <!-- Slide 5: Usuário Final -->
                    <div class="carousel-slide">
                        <div class="slide-icon">
                            <i class="fas fa-user fa-3x"></i>
                        </div>
                        <h3>Usuário Final</h3>
                        <div class="slide-content">
                            <p><strong>Comunidade Foton</strong> → Feedback loop para melhorias contínuas e inovação centrada no usuário.</p>
                        </div>
                    </div>
                </div>

                <!-- Controles de Navegação -->
                <div class="carousel-controls">
                    <button class="carousel-btn prev" aria-label="Slide Anterior">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="carousel-indicators">
                        <span class="indicator active" data-slide="0"></span>
                        <span class="indicator" data-slide="1"></span>
                        <span class="indicator" data-slide="2"></span>
                        <span class="indicator" data-slide="3"></span>
                        <span class="indicator" data-slide="4"></span>
                    </div>
                    <button class="carousel-btn next" aria-label="Próximo Slide">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section class="cta">
        <div class="container">
            <h2>Pronto para Transformar sua Jornada AEC?</h2>
            <p>Escolha por onde começar: pelos dados ou pela comunidade.</p>
            <div class="hero-btns">
                <a href="/autosinapi" class="btn">Começar com AutoSINAPI</a>
                <a href="/foton" class="btn btn-outline">Conhecer a Comunidade</a>
            </div>
        </div>
    </section>

    <script>
        // Scroll suave para âncoras
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;

                const target = document.querySelector(targetId);
                if (target) {
                    const headerOffset = 80;
                    const elementPosition = target.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const carouselSlides = document.querySelector('.carousel-slides');
            const slides = document.querySelectorAll('.carousel-slide');
            const indicators = document.querySelectorAll('.indicator');
            const prevBtn = document.querySelector('.carousel-btn.prev');
            const nextBtn = document.querySelector('.carousel-btn.next');
            let currentIndex = 0;
            const slideWidth = 100; // 100% da largura do contêiner

            function updateCarousel() {
                // Move o contêiner de slides para a esquerda
                carouselSlides.style.transform = `translateX(-${currentIndex * slideWidth}%)`;

                // Atualiza os indicadores
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentIndex);
                });
            }

            // Evento para botão "Próximo"
            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % slides.length;
                updateCarousel();
            });

            // Evento para botão "Anterior"
            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + slides.length) % slides.length;
                updateCarousel();
            });

            // Evento para os indicadores
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                    currentIndex = index;
                    updateCarousel();
                });
            });

            // Suporte para teclado (setas esquerda e direita)
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    currentIndex = (currentIndex - 1 + slides.length) % slides.length;
                    updateCarousel();
                } else if (e.key === 'ArrowRight') {
                    currentIndex = (currentIndex + 1) % slides.length;
                    updateCarousel();
                }
            });
        });
    </script>

</Layout>